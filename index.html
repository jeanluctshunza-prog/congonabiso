<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Congo Na Biso - AdhÃ©sion</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        :root { --blue: #007FFF; --yellow: #F7D027; --red: #CE1021; }
        body { font-family: 'Poppins', sans-serif; margin: 0; background: #e0eafc; display: flex; justify-content: center; align-items: flex-start; min-height: 100vh; overflow-y: auto; }
        #bg-flags { position: fixed; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; z-index: 0; }
        .falling-flag { position: absolute; width: 30px; opacity: 0.7; animation: fall linear infinite; }
        @keyframes fall { 0% { transform: translateY(-10vh) rotate(0deg); } 100% { transform: translateY(110vh) rotate(360deg); } }
        
        .form-container { 
            background: rgba(255, 255, 255, 0.92); 
            backdrop-filter: blur(10px); 
            padding: 25px; 
            border-radius: 20px; 
            width: 85%; 
            max-width: 400px; 
            margin: 30px auto; 
            z-index: 10; 
            text-align: center; 
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }
        
        .logo { width: 80px; margin-bottom: 10px; }
        .title { color: var(--blue); font-size: 1.3rem; font-weight: 700; margin: 0; }
        .subtitle { color: var(--red); font-weight: 600; border-bottom: 2px solid var(--yellow); padding-bottom: 5px; margin-bottom: 20px; display: block; }
        
        /* OpacitÃ© rÃ©duite sur les champs comme demandÃ© */
        input { 
            width: 100%; 
            padding: 14px; 
            margin: 8px 0; 
            border: 1px solid rgba(0, 127, 255, 0.2); 
            background: rgba(240, 244, 248, 0.4); 
            border-radius: 10px; 
            box-sizing: border-box; 
            font-size: 16px; 
        }
        
        button { 
            width: 100%; 
            padding: 16px; 
            background: var(--blue); 
            color: white; 
            border: none; 
            border-radius: 10px; 
            font-weight: 700; 
            margin-top: 15px; 
            cursor: pointer; 
        }
        
        .check-box { display: flex; gap: 10px; text-align: left; font-size: 0.8rem; margin: 15px 0; }
    </style>
</head>
<body>
    <div id="bg-flags"></div>
    <div class="form-container">
        <img src="drapeau.png" alt="RDC" class="logo">
        <h2 class="title">MOUVEMENT CITOYEN</h2>
        <span class="subtitle">CONGO NA BISO ðŸ‡¨ðŸ‡©</span>
        
        <form id="formAdhesion">
            <input type="text" name="prenom" placeholder="PrÃ©nom" required>
            <input type="text" name="nom" placeholder="Nom" required>
            <input type="text" name="postnom" placeholder="Post-nom" required>
            <input type="text" name="residence" placeholder="Ville / Commune" required>
            <input type="email" name="user_email" placeholder="Email" required>
            
            <div class="check-box">
                <input type="checkbox" required>
                <span>Je m'engage fidÃ¨lement pour le Congo et le mouvement. ðŸ‡¨ðŸ‡©</span>
            </div>
            
            <button type="submit" id="submitBtn">DEVENIR MEMBRE</button>
        </form>
    </div>

    <script>
        const scriptURL = 'https://script.google.com/macros/s/AKfycbwz-7HKFljiiSLvk9eRSmB9cV4jSMf5Gw8p83ZyPRILx6H9vgy3eb6lbk0yIoUN2U1V/exec';
        const form = document.getElementById('formAdhesion');
        const btn = document.getElementById('submitBtn');

        form.addEventListener('submit', e => {
            e.preventDefault();
            btn.disabled = true;
            btn.innerText = "Envoi en cours...";
            fetch(scriptURL, { method: 'POST', body: new FormData(form)})
                .then(() => {
                    alert("SuccÃ¨s ! Tes infos complÃ¨tes sont envoyÃ©es. ðŸ‡¨ðŸ‡©");
                    btn.disabled = false;
                    btn.innerText = "DEVENIR MEMBRE";
                    form.reset();
                })
                .catch(() => {
                    alert("Erreur. RÃ©essaye.");
                    btn.disabled = false;
                    btn.innerText = "DEVENIR MEMBRE";
                });
        });

        function createFlag() {
            const f = document.createElement('img');
            f.src = 'drapeau.png';
            f.className = 'falling-flag';
            f.style.left = Math.random() * 100 + "vw";
            f.style.animationDuration = (Math.random() * 2 + 4) + "s";
            document.getElementById('bg-flags').appendChild(f);
            setTimeout(() => f.remove(), 6000);
        }
        setInterval(createFlag, 800);
    </script>
</body>
</html>
